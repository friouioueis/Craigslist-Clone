import requests
from django.shortcuts import render
from requests.compat import quote_plus
from . import models
from bs4 import BeautifulSoup

# Create your views here.

Base_craigslist_url = 'https://losangeles.craigslist.org/search/?query={}'
Base_image_url = 'https://images.craigslist.org/{}_300x300.jpg'
def home(request):
    return render(request, 'base.html')
def new_search(request):
    search = request.POST.get('search')
    models.Search.objects.create(Search=search)
    final_url = Base_craigslist_url.format(quote_plus(search))

    response = requests.get(final_url)
    data = response.text
    soup = BeautifulSoup(data, features='html.parser')
    post_listings = soup.find_all('li', {'class': 'result-row'})
    final_postings = []
    for post in post_listings:
        post_title = post.find(class_='result-title').text
        post_url = post.find('a').get('href')
        if post.find(class_='result-price'):
            post_price = post.find(class_='result-price').text
        else:
            post_price = 'N/A'
        if post.find(class_= 'result-image').get('data-ids'):
            post_image_id = post.find(class_= 'result-image').get('data-ids').split(',')[0].split(':')[1]
            post_image_url = Base_image_url.format(post_image_id)
            print(post_image_url)
        else:
            post_image_url = 'data:image/jpeg;base64,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'

        final_postings.append((post_title, post_url, post_price, post_image_url))
    stuff_for_frontend = {
        'search': search,
        'final_postings': final_postings,
   }
    return render(request, 'my_app/new_search.html', stuff_for_frontend)
